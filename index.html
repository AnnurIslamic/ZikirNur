<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZikirNur</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* --- Global Reset & Box Sizing --- */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --primary-color: #00796B; /* Teal */
            --secondary-color: #4CAF50; /* Green */
            --accent-color: #FFC107; /* Amber for highlight */
            --bg-color-light: #F0F4F8; /* Light blue-grey */
            --text-color-light: #2C3E50; /* Darker text */
            --card-bg-light: #FFFFFF;
            --dark-green: #004D40;
            --border-color-light: #E0E0E0;
            --icon-color-light: #7F8C8D; /* Greyish icon */
            --bg-color: var(--bg-color-light);
            --text-color: var(--text-color-light);
            --card-bg: var(--card-bg-light);
            --border-color: var(--border-color-light);
            --icon-color: var(--icon-color-light);
        }

        .dark-mode {
            --primary-color: #66BB6A;
            --secondary-color: #81C784;
            --accent-color: #FFD54F;
            --bg-color: #1A202C;
            --text-color: #E0E0E0;
            --card-bg: #2D3748;
            --border-color: #4A5568;
            --icon-color: #A0AEC0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
            line-height: 1.6;
        }

        main {
            width: 100%;
            max-width: 800px;
            padding: 1.5rem;
            margin: 0 auto;
        }

        .content-section {
            display: none;
            padding-top: 1rem;
        }
        .content-section.active { display: block; }

        h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 2.5rem;
            position: relative;
        }
        h2::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -10px;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background-color: var(--accent-color);
            border-radius: 2px;
        }
        .dark-mode h2 { color: var(--primary-color); }

        .top-bar {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .menu-icon {
            font-size: 1.8rem;
            cursor: pointer;
            margin-right: 1rem;
            transition: transform 0.2s ease;
        }
        .menu-icon:hover { transform: scale(1.1); }
        .top-bar-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
            backdrop-filter: blur(2px);
        }
        .overlay.active { opacity: 1; visibility: visible; }

        .sidebar {
            height: 100%;
            width: 280px;
            position: fixed;
            z-index: 1001;
            top: 0; left: 0;
            background-color: var(--card-bg);
            overflow-x: hidden;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 4px 0 15px rgba(0,0,0,0.2);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            transform: translateX(-100%);
        }
        .sidebar.active { transform: translateX(0); }

        .sidebar .header-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.9rem;
            font-weight: 700;
            color: var(--primary-color);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-nav-list { list-style: none; }
        .sidebar-nav-list a {
            padding: 1rem 1.5rem;
            text-decoration: none;
            font-size: 1.1rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .sidebar-nav-list a i {
            width: 24px;
            text-align: center;
            color: var(--icon-color);
        }
        .sidebar-nav-list a:hover,
        .sidebar-nav-list a.current-page {
            background-color: var(--bg-color-light);
            color: var(--primary-color);
            font-weight: 600;
        }
        .dark-mode .sidebar-nav-list a:hover,
        .dark-mode .sidebar-nav-list a.current-page {
             background-color: #3B4455;
             color: var(--primary-color);
        }
        .sidebar-nav-list a:hover i,
        .sidebar-nav-list a.current-page i { color: var(--primary-color); }

        #dashboard-section { padding-top: 0; }
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .dashboard-header h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-color);
        }
        .dashboard-header p {
            font-size: 0.9rem;
            color: var(--icon-color);
        }
        .dashboard-header .info-icon {
            font-size: 1.3rem;
            color: var(--primary-color);
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .dashboard-header .info-icon:hover { color: var(--accent-color); }
        .dashboard-header .moon-icon {
            font-size: 1.3rem;
            color: var(--icon-color);
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .dashboard-header .moon-icon.dark-mode-active { color: var(--primary-color); }
        .dashboard-header .icon-group {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .prayer-time-card {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--dark-green) 100%);
            color: white;
            border-radius: 20px;
            padding: 1.8rem 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        .prayer-time-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100" xmlns="http://www.w3.org/2000/svg"><path d="M 50 0 L 100 50 L 50 100 L 0 50 Z" fill="%23FFFFFF" opacity="0.05"/></svg>') repeat;
            background-size: 80px;
            opacity: 0.1;
            z-index: 0;
        }
        .prayer-time-card > * { position: relative; z-index: 1; }
        .card-location {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }
        .card-date {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 1.5rem;
        }
        .prayer-times-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 1rem;
            text-align: center;
        }
        .prayer-time-item {
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 0.8rem 0.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.3rem;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        .prayer-time-item.next-prayer {
            background-color: var(--accent-color);
            color: #333;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transform: translateY(-3px);
        }
        .prayer-time-item.next-prayer span,
        .prayer-time-item.next-prayer strong { color: #333; }
        .prayer-time-item span { font-size: 0.85rem; font-weight: 500; }
        .prayer-time-item strong {
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .featured-zikir-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .zikir-card {
            background-color: var(--card-bg);
            padding: 1.8rem 1rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .zikir-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        .zikir-card > i { /* Use > to target only the main icon */
            font-size: 3rem;
            margin-bottom: 1rem;
            transition: color 0.2s ease;
        }
        .zikir-card.pagi > i { color: #FDD835; }
        .zikir-card.petang > i { color: #7986CB; }
        .zikir-card h4 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-color);
        }
        .zikir-card p.subtitle {
            font-size: 0.85rem;
            color: var(--icon-color);
            margin-top: 0.5rem;
            margin-bottom: 1.5rem; /* Beri ruang untuk tombol di bawah */
        }
        
        /* Style untuk 3 Tombol Audio */
        .audio-controls-container {
            display: flex;
            gap: 1rem;
            justify-content: center;
            align-items: center;
        }

        .audio-btn {
            width: 45px;
            height: 45px;
            background-color: var(--primary-color);
            border: none;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.15);
        }
        .audio-btn:hover {
            background-color: var(--secondary-color);
            transform: scale(1.1);
        }
        .audio-btn.stop-btn {
            background-color: #E53935; /* Warna merah untuk stop */
        }
        .audio-btn.stop-btn:hover {
            background-color: #C62828;
        }
        /* Utility class untuk menyembunyikan tombol */
        .hidden {
            display: none;
        }

        .shortcut-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1.2rem;
            margin-top: 2rem;
        }
        .shortcut-item {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 1.2rem 0.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-color);
            text-align: center;
        }
        .shortcut-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .shortcut-icon {
            font-size: 2rem;
            color: var(--primary-color);
            transition: color 0.2s ease;
        }
        .shortcut-item:hover .shortcut-icon { color: var(--secondary-color); }
        .shortcut-item span {
            font-size: 0.8rem;
            color: var(--text-color);
            font-weight: 500;
            line-height: 1.3;
        }

        .survey-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            background-color: var(--accent-color);
            color: #333;
            text-align: center;
            padding: 1.2rem 1rem;
            border-radius: 15px;
            font-weight: 700;
            text-decoration: none;
            margin-top: 2.5rem;
            box-shadow: 0 6px 15px rgba(255, 193, 7, 0.4);
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
            font-size: 1.1rem;
        }
        .survey-button:hover {
            background-color: #FFB300;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.5);
        }
        .survey-button i { font-size: 1.3rem; }

        /* Styles for Settings & Other sections */
        .settings-container, .explanation-container { padding: 0 0.5rem; }
        .settings-list {
            list-style: none;
            margin: 0 0 2rem 0;
            background-color: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        .settings-list-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-color);
            padding: 1.5rem 1.5rem 0.8rem;
        }
        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .settings-item:last-child { border-bottom: none; }
        .settings-item .setting-label { font-size: 1.1rem; font-weight: 500; }
        .settings-item .setting-value { font-size: 1rem; color: var(--icon-color); }
        .dark-mode .settings-item .setting-value { color: #bbb; }
        .settings-item a {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            text-decoration: none;
            color: inherit;
        }
        .settings-item .chevron-icon { color: var(--icon-color); margin-left: 1rem; font-size: 1rem; }
        .mode-toggle-container { display: flex; align-items: center; gap: 1rem; }
        .mode-toggle-container span { font-size: 1rem; font-weight: 500; }
        .mode-toggle-container .switch { position: relative; display: inline-block; width: 48px; height: 28px; }
        .mode-toggle-container .switch input { opacity: 0; width: 0; height: 0; }
        .mode-toggle-container .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 28px; }
        .dark-mode .mode-toggle-container .slider { background-color: #555; }
        .mode-toggle-container .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        .mode-toggle-container input:checked + .slider { background-color: var(--primary-color); }
        .mode-toggle-container input:checked + .slider:before { transform: translateX(20px); }
        .store-button { display: block; margin-top: 2rem; padding: 1rem; background-color: black; color: white; text-align: center; border-radius: 12px; text-decoration: none; font-weight: 600; transition: background-color 0.2s ease; }
        .store-button:hover { background-color: #222; }
        .store-button i { margin-right: 0.5rem; }

        footer { text-align: center; padding: 1.5rem; background-color: var(--primary-color); color: white; margin-top: 3.5rem; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        
        @media (max-width: 768px) {
            .top-bar-title, .sidebar .header-title { font-size: 1.6rem; }
            h2 { font-size: 1.8rem; }
            .prayer-times-grid { grid-template-columns: repeat(3, 1fr); gap: 0.8rem; }
            .featured-zikir-container { grid-template-columns: 1fr; }
        }
        @media (max-width: 480px) {
            main { padding: 1rem; }
            .sidebar { width: 250px; }
            .top-bar-title, .sidebar .header-title { font-size: 1.4rem; }
            h2 { font-size: 1.6rem; }
            .prayer-time-card { padding: 1.5rem 1rem; }
            .prayer-times-grid { grid-template-columns: repeat(2, 1fr); }
            .prayer-time-item strong { font-size: 1.1rem; }
            .zikir-card { padding: 1.5rem 1rem; }
            .zikir-card > i { font-size: 2.5rem; }
            .zikir-card h4 { font-size: 1.2rem; }
            .shortcut-grid { grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); }
            .survey-button { font-size: 1rem; }
            .settings-item { flex-direction: column; align-items: flex-start; gap: 0.8rem; padding: 1rem 1.2rem; }
            .mode-toggle-container { width: 100%; justify-content: space-between; }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <i class="fas fa-bars menu-icon" id="openSidebarBtn"></i>
        <div class="top-bar-title">ZikirNur</div>
    </div>
    <div id="mySidebar" class="sidebar">
        <div class="header-title">Menu Navigasi</div>
        <ul class="sidebar-nav-list">
            <li><a href="#dashboard" class="nav-link"><i class="fas fa-home"></i> Beranda</a></li>
            <li><a href="#penjelasan" class="nav-link"><i class="fas fa-book-open"></i> Penjelasan Zikir</a></li>
            <li><a href="#pengaturan" class="nav-link"><i class="fas fa-cog"></i> Pengaturan</a></li>
        </ul>
    </div>
    <div class="overlay" id="sidebarOverlay"></div>
    <main>
        <section id="dashboard-section" class="content-section active">
            <div class="dashboard-header">
                <div>
                    <h3>Dzikir Pagi Petang</h3>
                    <p>Sesuai Sunnah</p>
                </div>
                <div class="icon-group">
                    <i class="fas fa-info-circle info-icon"></i>
                    <i class="fas fa-moon moon-icon" id="darkModeIcon"></i> 
                </div>
            </div>
            <div class="prayer-time-card">
                <p class="card-location">Medan, Sumatera Utara</p>
                <p class="card-date" id="currentDateHijri"></p>
                <div class="prayer-times-grid" id="prayerTimesGrid">
                    <div class="prayer-time-item"><span>Imsak</span><strong id="time-Imsak">--:--</strong></div>
                    <div class="prayer-time-item"><span>Subuh</span><strong id="time-Fajr">--:--</strong></div>
                    <div class="prayer-time-item"><span>Dzuhur</span><strong id="time-Dhuhr">--:--</strong></div>
                    <div class="prayer-time-item"><span>Ashar</span><strong id="time-Asr">--:--</strong></div>
                    <div class="prayer-time-item"><span>Maghrib</span><strong id="time-Maghrib">--:--</strong></div>
                    <div class="prayer-time-item"><span>Isya</span><strong id="time-Isha">--:--</strong></div>
                </div>
            </div>

            <div class="featured-zikir-container">
                <div class="zikir-card pagi">
                    <audio id="audio-pagi" src="https://raw.githubusercontent.com/AnnurIslamic/ZikirNur2/main/audio/zikir-pagi.mp3"></audio>
                    <i class="fas fa-sun"></i>
                    <h4>Dzikir Pagi</h4>
                    <p class="subtitle">Ba'da Subuh</p>
                    
                    <div class="audio-controls-container">
                        <button class="audio-btn play-btn" data-target="audio-pagi"><i class="fas fa-play"></i></button>
                        <button class="audio-btn pause-btn hidden" data-target="audio-pagi"><i class="fas fa-pause"></i></button>
                        <button class="audio-btn stop-btn hidden" data-target="audio-pagi"><i class="fas fa-stop"></i></button>
                    </div>
                </div>
                <div class="zikir-card petang">
                    <audio id="audio-petang" src="https://raw.githubusercontent.com/AnnurIslamic/ZikirNur2/main/audio/zikir-petang.mp3"></audio>
                    <i class="fas fa-moon"></i>
                    <h4>Dzikir Petang</h4>
                    <p class="subtitle">Ba'da Ashar</p>
                     
                    <div class="audio-controls-container">
                        <button class="audio-btn play-btn" data-target="audio-petang"><i class="fas fa-play"></i></button>
                        <button class="audio-btn pause-btn hidden" data-target="audio-petang"><i class="fas fa-pause"></i></button>
                        <button class="audio-btn stop-btn hidden" data-target="audio-petang"><i class="fas fa-stop"></i></button>
                    </div>
                </div>
            </div>
            
            <div class="shortcut-grid">
                <a href="#" class="shortcut-item"><i class="fas fa-hand-holding-heart shortcut-icon"></i><span>Dzikir Ba'da Sholat</span></a>
                <a href="#" class="shortcut-item"><i class="fas fa-mosque shortcut-icon"></i><span>Tata Cara Sholat</span></a>
                <a href="#" class="shortcut-item"><i class="fas fa-book-reader shortcut-icon"></i><span>Doa Para Nabi</span></a>
                <a href="#" class="shortcut-item"><i class="fas fa-compass shortcut-icon"></i><span>Arah Kiblat</span></a>
                <a href="#" class="shortcut-item"><i class="fas fa-hands-praying shortcut-icon"></i><span>Doa Harian</span></a>
                <a href="#" class="shortcut-item"><i class="fas fa-calculator shortcut-icon"></i><span>Tasbih Digital</span></a>
            </div>
            <a href="#" class="survey-button"><i class="fas fa-clipboard-list"></i> ISI SURVEY YUK</a>
        </section>

        <section id="penjelasan-section" class="content-section">
            <h2>Mengenal Zikir</h2>
            <div class="explanation-container">
                <p>Zikir (bahasa Arab: ذِكْر) secara harfiah berarti mengingat, menyebut, atau mengenang. Dalam konteks Islam, zikir adalah aktivitas mengingat Allah SWT dengan mengucapkan kalimat-kalimat suci dan nama-nama-Nya.</p>
                <p>Zikir dapat dilakukan kapan saja dan di mana saja, baik secara lisan maupun dalam hati. Amalan ini memiliki banyak manfaat, antara lain menenangkan hati, menghapus dosa, dan meningkatkan kedekatan seorang hamba dengan Tuhannya.</p>
                <p>Rasulullah SAW bersabda, "Tiada suatu amalan pun yang lebih menyelamatkan dari azab Allah daripada zikir kepada Allah." (HR. Ahmad dan Tirmidzi).</p>
                <p>Dengan rutin berzikir, seorang muslim akan senantiasa merasakan kehadiran Allah, menemukan ketenangan jiwa, dan memperkuat keimanannya. Ini adalah salah satu bentuk ibadah yang paling mudah namun memiliki ganjaran yang besar di sisi Allah.</p>
            </div>
        </section>
        <section id="pengaturan-section" class="content-section">
            <h2>Pengaturan Aplikasi</h2>
            <div class="settings-container">
                <h4 class="settings-list-title">Tampilan</h4>
                <ul class="settings-list">
                    <li class="settings-item">
                        <div class="setting-label">Mode Otomatis</div>
                        <label class="switch"><input type="checkbox" id="auto-mode-toggle"><span class="slider"></span></label>
                    </li>
                    <li class="settings-item">
                        <div class="setting-label">Mode Malam Manual</div>
                        <label class="switch"><input type="checkbox" id="dark-mode-toggle"><span class="slider"></span></label>
                    </li>
                </ul>
                <h4 class="settings-list-title">Informasi</h4>
                <ul class="settings-list">
                    <li class="settings-item"><a href="#"><div class="setting-label">Kebijakan Privasi</div><i class="fas fa-chevron-right chevron-icon"></i></a></li>
                    <li class="settings-item"><a href="#"><div class="setting-label">Ketentuan Penggunaan</div><i class="fas fa-chevron-right chevron-icon"></i></a></li>
                    <li class="settings-item"><a href="#"><div class="setting-label">Saran & Masukan</div><i class="fas fa-chevron-right chevron-icon"></i></a></li>
                    <li class="settings-item"><div class="setting-label">Versi Aplikasi</div><div class="setting-value">v1.0.0 (25)</div></li>
                </ul>
            </div>
            <a href="#" class="store-button"><i class="fab fa-google-play"></i> Unduh di Google PlayStore</a>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 ZikirNur</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Elements ---
            const openSidebarBtn = document.getElementById('openSidebarBtn');
            const sidebar = document.getElementById('mySidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            const navLinks = document.querySelectorAll('.sidebar-nav-list .nav-link');
            const sections = document.querySelectorAll('.content-section');
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            const autoModeToggle = document.getElementById('auto-mode-toggle');
            const darkModeIcon = document.getElementById('darkModeIcon');

            // --- Sidebar Logic ---
            function openSidebar() {
                sidebar.classList.add('active');
                sidebarOverlay.classList.add('active');
            }
            function closeSidebar() {
                sidebar.classList.remove('active');
                sidebarOverlay.classList.remove('active');
            }
            openSidebarBtn.addEventListener('click', openSidebar);
            sidebarOverlay.addEventListener('click', closeSidebar);

            // --- Navigation Logic ---
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    navLinks.forEach(l => l.classList.remove('current-page'));
                    e.currentTarget.classList.add('current-page');
                    const targetId = e.currentTarget.getAttribute('href').substring(1) + '-section';
                    sections.forEach(section => section.classList.remove('active'));
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                    }
                    closeSidebar();
                    window.scrollTo(0, 0);
                });
            });
            document.querySelector('.sidebar-nav-list a[href="#dashboard"]').classList.add('current-page');
            document.getElementById('dashboard-section').classList.add('active');

            // --- Dark Mode Logic ---
            let autoModeInterval;
            function setMode(isDark) {
                if (isDark) {
                    document.body.classList.add('dark-mode');
                    darkModeIcon.classList.add('dark-mode-active');
                } else {
                    document.body.classList.remove('dark-mode');
                    darkModeIcon.classList.remove('dark-mode-active');
                }
            }
            function checkAutoMode() {
                const isNight = new Date().getHours() >= 18 || new Date().getHours() < 6;
                setMode(isNight);
            }
            function applySavedMode() {
                const savedMode = localStorage.getItem('themeMode') || 'auto';
                if (savedMode === 'dark') {
                    setMode(true);
                    darkModeToggle.checked = true;
                    autoModeToggle.checked = false;
                } else if (savedMode === 'light') {
                    setMode(false);
                    darkModeToggle.checked = false;
                    autoModeToggle.checked = false;
                } else {
                    autoModeToggle.checked = true;
                    darkModeToggle.disabled = true;
                    checkAutoMode();
                    autoModeInterval = setInterval(checkAutoMode, 60000);
                }
            }
            darkModeToggle.addEventListener('change', () => {
                localStorage.setItem('themeMode', darkModeToggle.checked ? 'dark' : 'light');
                applySavedMode();
            });
            autoModeToggle.addEventListener('change', () => {
                clearInterval(autoModeInterval);
                if (autoModeToggle.checked) {
                    localStorage.setItem('themeMode', 'auto');
                    darkModeToggle.checked = false;
                    darkModeToggle.disabled = true;
                    checkAutoMode();
                    autoModeInterval = setInterval(checkAutoMode, 60000);
                } else {
                    darkModeToggle.disabled = false;
                    localStorage.setItem('themeMode', 'light');
                }
                applySavedMode();
            });
            darkModeIcon.addEventListener('click', () => {
                const isCurrentlyDark = document.body.classList.contains('dark-mode');
                autoModeToggle.checked = false;
                darkModeToggle.disabled = false;
                darkModeToggle.checked = !isCurrentlyDark;
                localStorage.setItem('themeMode', !isCurrentlyDark ? 'dark' : 'light');
                applySavedMode();
            });
            applySavedMode();

            // --- Prayer Times API ---
            async function fetchPrayerTimes() {
                const METHOD = 11;
                const ADJUSTMENT = 2;
                const apiUrl = `https://api.aladhan.com/v1/timingsByCity?city=Medan&country=Indonesia&method=${METHOD}`;
                try {
                    const response = await fetch(apiUrl);
                    const data = await response.json();
                    if (data.code === 200) {
                        const times = data.data.timings;
                        function adjustTime(timeStr, minutes) {
                            let [h, m] = timeStr.split(':').map(Number);
                            let date = new Date();
                            date.setHours(h, m + minutes, 0);
                            return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
                        }
                        document.getElementById('time-Imsak').textContent = adjustTime(times.Imsak, ADJUSTMENT);
                        document.getElementById('time-Fajr').textContent = adjustTime(times.Fajr, ADJUSTMENT);
                        document.getElementById('time-Dhuhr').textContent = times.Dhuhr;
                        document.getElementById('time-Asr').textContent = times.Asr;
                        document.getElementById('time-Maghrib').textContent = times.Maghrib;
                        document.getElementById('time-Isha').textContent = adjustTime(times.Isha, ADJUSTMENT);

                        const hijri = data.data.date.hijri;
                        document.getElementById('currentDateHijri').textContent = `${hijri.weekday.ar}, ${hijri.day} ${hijri.month.ar} ${hijri.year} H`;
                        highlightNextPrayer();
                    }
                } catch (error) {
                    console.error("Gagal mengambil data waktu sholat:", error);
                }
            }
            function highlightNextPrayer() {
                const now = new Date();
                const currentTime = now.getHours() * 60 + now.getMinutes();
                const prayerOrder = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
                let nextPrayerFound = false;
                document.querySelectorAll('.prayer-time-item').forEach(item => item.classList.remove('next-prayer'));
                for (const prayer of prayerOrder) {
                    const timeStr = document.getElementById(`time-${prayer}`).textContent;
                    if (timeStr === '--:--') continue;
                    const [h, m] = timeStr.split(':').map(Number);
                    const prayerTime = h * 60 + m;
                    if (currentTime < prayerTime) {
                        document.getElementById(`time-${prayer}`).closest('.prayer-time-item').classList.add('next-prayer');
                        nextPrayerFound = true;
                        break;
                    }
                }
                if (!nextPrayerFound) {
                    document.getElementById('time-Fajr').closest('.prayer-time-item').classList.add('next-prayer');
                }
            }
            fetchPrayerTimes();
            setInterval(highlightNextPrayer, 30000);

            // --- Logika Audio Player dengan 3 Tombol ---
            const allAudios = document.querySelectorAll('audio');
            function resetAllPlayersUI(exceptAudioId) {
                const allContainers = document.querySelectorAll('.audio-controls-container');
                allContainers.forEach(container => {
                    const audioId = container.querySelector('.play-btn').dataset.target;
                    if (audioId !== exceptAudioId) {
                        container.querySelector('.play-btn').classList.remove('hidden');
                        container.querySelector('.pause-btn').classList.add('hidden');
                        container.querySelector('.stop-btn').classList.add('hidden');
                    }
                });
            }
            function stopAllAudios(exceptAudioId) {
                allAudios.forEach(audio => {
                    if (audio.id !== exceptAudioId) {
                        audio.pause();
                        audio.currentTime = 0;
                    }
                });
            }
            document.querySelectorAll('.play-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    const audio = document.getElementById(targetId);
                    stopAllAudios(targetId);
                    resetAllPlayersUI(targetId);
                    audio.play();
                    button.classList.add('hidden');
                    button.parentElement.querySelector('.pause-btn').classList.remove('hidden');
                    button.parentElement.querySelector('.stop-btn').classList.remove('hidden');
                });
            });
            document.querySelectorAll('.pause-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    const audio = document.getElementById(targetId);
                    audio.pause();
                    button.classList.add('hidden');
                    button.parentElement.querySelector('.play-btn').classList.remove('hidden');
                });
            });
            document.querySelectorAll('.stop-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    const audio = document.getElementById(targetId);
                    audio.pause();
                    audio.currentTime = 0;
                    button.classList.add('hidden');
                    button.parentElement.querySelector('.pause-btn').classList.add('hidden');
                    button.parentElement.querySelector('.play-btn').classList.remove('hidden');
                });
            });
            allAudios.forEach(audio => {
                audio.addEventListener('ended', () => {
                    const container = document.querySelector(`.play-btn[data-target="${audio.id}"]`).parentElement;
                    container.querySelector('.play-btn').classList.remove('hidden');
                    container.querySelector('.pause-btn').classList.add('hidden');
                    container.querySelector('.stop-btn').classList.add('hidden');
                });
            });
        });
    </script>
</body>
</html>